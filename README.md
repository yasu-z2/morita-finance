# 株価選別・AI分析システム (v3.2.4)

東証プライム銘柄から「底値圏からの初動」を捉えるスクリーニング・システムです。
最新の **Gemini 2.5 Flash** による知能と、一次ソースへのクイックアクセス機能を統合しています。

## 📂 構成ファイルと実行モード

| 項目 | **AIメール配信版 (本番)** | **スタンドアロン版 (検証)** |
| :--- | :--- | :--- |
| **ファイル名** | **`scanner_ai.py`** | **`scanner_standalone.py`** |
| **主な用途** | 毎晩の自動分析・一斉配信 | ローカル検証・CSV詳細保存 |
| **AIモデル** | **Gemini 2.5 Flash (最新)** | なし |
| **出力形式** | AIレポート（メール） | CSV / TXTレポート |
| **実行環境** | GitHub Actions (20:15) | ローカルPC (手動) |

---

## 🚀 主な機能

1. **Gemini 2.5 Flash 搭載**:
   Googleの最新安定版モデルによる高度な市場分析と投資シナリオの生成。
2. **ソースリンク自動付与**:
   抽出銘柄ごとに **Yahoo!ファイナンス** および **株探** へのダイレクトリンクを生成。
3. **2段階スクリーニング (v1.11)**:
   底値圏（25日安値圏）からの反発と出来高急増を厳格に判定。
4. **差分キャッシュ高速化**:
   GitHub Actionsのキャッシュ機能を活用し、スキャン時間を約4分に短縮。
5. **マルチアドレス配信**:
   複数のメールアドレス（カンマ区切り）への同時配信をサポート。

---

## ⚙️ 判定ロジック概要

### 第一段階（実戦モード）
- 底値圏: 過去25日安値から **+15%以内**
- 初動: 当日終値が安値から **+10%以上** 上昇
- 出来高: 当日2.0倍、前日1.5倍以上の急増

### 第二段階（特選・厳格モード）
- 底値圏: 安値から **+10%以内**
- 出来高: **2日連続で2.0倍以上** の急増を記録した最有力候補

---

## 🛠 セットアップ (GitHub Secrets)

`scanner_ai.py` を動作させるには以下の登録が必要です。

- `GEMINI_API_KEY`: Google AI Studio APIキー
- `MAIL_ADDRESS`: 送信元Gmail
- `MAIL_PASSWORD`: Gmailアプリパスワード
- `TO_ADDRESS`: 送信先（カンマ区切り `user1@ex.com, user2@ex.com`）

---

## 📝 免責事項
本システムは投資の参考情報提供を目的としており、特定の銘柄の売買を推奨するものではありません。投資判断は自己責任でお願いいたします。